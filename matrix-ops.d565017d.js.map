{"version":3,"sources":["../js/matrix-ops.js"],"names":["settings","matrix_sizes","operation","Matrix","root","size","controls","self","data","Array","fill","map","_canvas","document","createElement","_root","length","appendChild","recreate","_controls","_controls_addrow","_controls_addcol","_controls_rmrow","_controls_rmcol","_controls_transpose","_controls_field","onclick","addRow","bind","addCol","rmRow","rmCol","transpose","className","textContent","innerHTML","row","rowEl","cellid","cell","cellEl","contentEditable","oninput","entries","forEach","rowid","querySelector","push","x","pop","col","i","window","aaa","getElementById","bbb","ccc","operationClass","classList","add","remove","j","_","k","reduce","a","b"],"mappings":"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","file":"matrix-ops.d565017d.js","sourceRoot":"../views","sourcesContent":["const settings = {\n\tmatrix_sizes: [\n\t\t[5, 5],\n\t\t[5, 5]\n\t],\n\toperation: '+'\n};\n\nclass Matrix {\n\tconstructor(root, size, controls) {\n\t\tconst self = this;\n\n\t\tthis.data = Array(size[0]).fill(0).map(()=>Array(size[1]).fill(0));\n\t\tthis._canvas = document.createElement('table');\n\t\tthis._root = root;\n\t\tthis.size = {get 0() {return self.data.length}, get 1() {return self.data[0].length}, length: 2};\n\t\troot.appendChild(this._canvas);\n\t\tthis.recreate();\n\n\t\tif (!controls) return;\n\n\t\tthis._controls = document.createElement('div');\n\t\tthis._controls_addrow = document.createElement('div');\n\t\tthis._controls_addcol = document.createElement('div');\n\t\tthis._controls_rmrow = document.createElement('div');\n\t\tthis._controls_rmcol = document.createElement('div');\n\t\tthis._controls_transpose = document.createElement('div');\n\t\tthis._controls_field = document.createElement('div');\n\n\n\t\tthis._controls_addrow.onclick = this.addRow.bind(this);\n\t\tthis._controls_addcol.onclick = this.addCol.bind(this);\n\t\tthis._controls_rmrow.onclick = this.rmRow.bind(this);\n\t\tthis._controls_rmcol.onclick = this.rmCol.bind(this);\n\t\tthis._controls_transpose.onclick = this.transpose.bind(this);\n\t\tthis._controls_field.onclick = () => {};\n\n\t\tthis._controls.className = 'controls';\n\t\tthis._controls_addrow.className = 'button addrow';\n\t\tthis._controls_addcol.className = 'button addcol';\n\t\tthis._controls_rmrow.className = 'button rmrow';\n\t\tthis._controls_rmcol.className = 'button rmcol';\n\t\tthis._controls_transpose.className = 'button transpose';\n\t\tthis._controls_field.className = 'button field';\n\n\t\tthis._controls.appendChild(this._controls_addcol);\n\t\tthis._controls.appendChild(this._controls_addrow);\n\t\tthis._controls.appendChild(this._controls_rmcol);\n\t\tthis._controls.appendChild(this._controls_rmrow);\n\t\tthis._controls.appendChild(this._controls_transpose);\n\t\tthis._controls.appendChild(this._controls_field);\n\n\t\tthis._controls_field.textContent = 'R';\n\n\t\tthis._root.appendChild(this._controls);\n\t}\n\trecreate() {\n\t\tthis._canvas.innerHTML = '';\n\t\tfor (let row of this.data) {\n\t\t\tconst rowEl = document.createElement('tr');\n\t\t\tfor (let [cellid, cell] of row.entries()) {\n\t\t\t\tconst cellEl = document.createElement('td');\n\t\t\t\tcellEl.contentEditable = true;\n\t\t\t\tcellEl.oninput = () => {row[cellid] = +cellEl.textContent}\n\t\t\t\tcellEl.textContent = cell;\n\t\t\t\trowEl.appendChild(cellEl);\n\t\t\t}\n\t\t\tthis._canvas.appendChild(rowEl);\n\t\t}\n\t}\n\tupdate() {\n\t\tthis.data.forEach((row, rowid) => {\n\t\t\trow.forEach((cell, cellid) => {\n\t\t\t\tthis._root.querySelector(`tr:nth-child(${rowid+1}) > td:nth-child(${cellid+1})`).textContent = cell;\n\t\t\t})\n\t\t});\n\t};\n\taddRow() {this.data.push(Array(this.size[1]).fill(0));  this.recreate()}\n\taddCol() {this.data.map(x=>x.push(0)); this.recreate()}\n\trmRow() {this.data.pop(); this.recreate()}\n\trmCol() {this.data.map(x=>x.pop()); this.recreate()}\n\ttranspose() {this.data = this.data[0].map((col, i) => this.data.map(row => row[i])); this.recreate()}\n}\n\n\nwindow.aaa = new Matrix(document.getElementById('m-1'), [5,5], true);\nwindow.bbb = new Matrix(document.getElementById('m-2'), [5,5], true);\nwindow.ccc = new Matrix(document.getElementById('m-out'), [5,5]);\n\nconst operationClass = document.getElementById('operation').classList;\n\ndocument.getElementById('operation-sum').onclick = () => {settings.operation = '+'; operationClass.add('sum'); operationClass.remove('mul')};\ndocument.getElementById('operation-mul').onclick = () => {settings.operation = 'Ã—'; operationClass.add('mul'); operationClass.remove('sum');};\n\ndocument.onclick = () => {\n\tif (settings.operation == '+') {\n\t\twindow.ccc.data = window.aaa.data.map((row,rowid) => row.map((cell,cellid) => window.bbb.data[rowid][cellid]+cell));\n\t\twindow.ccc.recreate();\n\t} else {\n\t\twindow.ccc.data = Array(window.aaa.size[0]).fill(0).map(x=>Array(window.bbb.size[1]).fill(0));\n\t\tfor (let i = 0; i<window.ccc.size[0]; ++i) {\n\t\t\tfor (let j = 0; j<window.ccc.size[1]; ++j) {\n\t\t\t\twindow.ccc.data[i][j] = Array(window.aaa.data[0].length).fill(0).map((_,k) => window.aaa.data[i][k] * window.bbb.data[k][j]).reduce((a,b)=>a+b,0);\n\t\t\t}\n\t\t}\n\t\twindow.ccc.recreate();\n\t}\n};"]}